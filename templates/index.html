<!-- index.html -->
{% extends 'base.html' %}

{% block title %}CVA | Inicio{% endblock %}

{% block content %}
    <!-- Header with notification icon -->
    <div class="flex justify-between items-center mb-8 animate-fade-in">
        <h1 class="text-3xl font-bold text-gray-900 font-roboto">Inicio</h1>
        <div class="relative">
            <button id="notificationBtn" class="flex items-center justify-center w-10 h-10 rounded-full bg-white shadow-md text-gray-500 hover:text-primary-600 hover:shadow-lg transition-all duration-300 ease-in-out">
                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"></path>
                </svg>
                <span id="notificationBadge" class="absolute top-0 right-0 flex h-4 w-4 items-center justify-center rounded-full bg-primary-600 text-xs font-bold text-white animate-pulse-slow">3</span>
            </button>
            <!-- Notification dropdown -->
            <div id="notificationDropdown" class="hidden absolute right-0 mt-2 w-80 bg-white rounded-lg shadow-xl z-50 border border-gray-100">
                <div class="p-4 border-b border-gray-100">
                    <h3 class="font-medium text-gray-900 font-roboto">Notificaciones</h3>
                </div>
                <div class="max-h-64 overflow-y-auto">
                    <a href="#" class="block p-4 border-b border-gray-100 hover:bg-primary-50 transition-colors duration-200">
                        <p class="text-sm font-medium text-gray-900">Actualización de formulario</p>
                        <p class="text-xs text-gray-500 mt-1">Se ha actualizado el formulario de elegibilidad.</p>
                        <p class="text-xs text-gray-400 mt-1">Hace 2 horas</p>
                    </a>
                    <a href="#" class="block p-4 border-b border-gray-100 hover:bg-primary-50 transition-colors duration-200">
                        <p class="text-sm font-medium text-gray-900">Nueva asesoría programada</p>
                        <p class="text-xs text-gray-500 mt-1">Tu asesoría ha sido programada para el 15 de marzo.</p>
                        <p class="text-xs text-gray-400 mt-1">Hace 1 día</p>
                    </a>
                    <a href="#" class="block p-4 hover:bg-primary-50 transition-colors duration-200">
                        <p class="text-sm font-medium text-gray-900">Pago confirmado</p>
                        <p class="text-xs text-gray-500 mt-1">Tu pago ha sido procesado exitosamente.</p>
                        <p class="text-xs text-gray-400 mt-1">Hace 3 días</p>
                    </a>
                </div>
                <div class="p-2 text-center border-t border-gray-100">
                    <a href="#" class="text-xs text-primary-600 hover:text-primary-700 font-medium">Ver todas las notificaciones</a>
                </div>
            </div>
        </div>
    </div>

    <!-- News Tabs -->
    <div class="mb-8 animate-fade-in delay-100">
        <ul class="flex flex-wrap -mb-px text-sm font-medium text-center border-b border-gray-200" id="newsTabs" role="tablist">
            <li class="mr-2" role="presentation">
                <button class="inline-block p-4 border-b-2 border-primary-600 text-primary-600 rounded-t-lg active font-roboto" id="platform-tab" data-tab="platform" type="button" role="tab" aria-selected="true">
                    Noticias de la Plataforma
                </button>
            </li>
            <li class="mr-2" role="presentation">
                <button class="inline-block p-4 border-b-2 border-transparent hover:text-primary-600 hover:border-primary-300 rounded-t-lg font-roboto" id="canada-tab" data-tab="canada" type="button" role="tab" aria-selected="false">
                    Noticias de Canadá
                </button>
            </li>
        </ul>
    </div>

    <!-- Platform News Tab Content -->
    <div id="platform-content" class="tab-content active">
        <div class="grid grid-cols-1 md:grid-cols-2 gap-8 mb-10">
            <!-- Featured News -->
            <div class="col-span-1 md:col-span-2 bg-white rounded-xl shadow-card hover:shadow-card-hover overflow-hidden transition-all duration-500 ease-in-out hover:-translate-y-1 animate-fade-in delay-200">
                <div class="md:flex">
                    <div class="md:flex-shrink-0 overflow-hidden">
                        <img class="h-48 w-full object-cover md:w-48 transition-all duration-700 ease-in-out hover:scale-105" src="../static/img/news-featured.jpg" alt="Actualización de la plataforma" onerror="this.src='../static/img/placeholder.jpg'">
                    </div>
                    <div class="p-6">
                        <div class="flex items-center">
                            <span class="bg-primary-100 text-primary-600 text-xs px-2 py-1 rounded-full uppercase font-semibold tracking-wide">Destacado</span>
                            <p class="ml-2 text-xs text-gray-500">Marzo 10, 2025</p>
                        </div>
                        <a href="#" class="block mt-2 group">
                            <h3 class="text-xl font-semibold text-gray-900 font-roboto group-hover:text-primary-600 transition-colors duration-300">Actualización importante de la plataforma CVA</h3>
                            <p class="mt-3 text-gray-600">Hemos actualizado nuestra plataforma con nuevas funcionalidades para mejorar tu experiencia en el proceso de solicitud de visa canadiense.</p>
                        </a>
                        <div class="mt-4">
                            <a href="#" class="text-primary-600 hover:text-primary-700 font-medium text-sm inline-flex items-center group">
                                Leer más
                                <svg class="w-4 h-4 ml-1 transform group-hover:translate-x-1 transition-transform duration-200" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 5l7 7m0 0l-7 7m7-7H3"></path>
                                </svg>
                            </a>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Regular News Items -->
            <div class="bg-white rounded-xl shadow-card hover:shadow-card-hover overflow-hidden transition-all duration-500 ease-in-out hover:-translate-y-1 animate-fade-in delay-300">
                <div class="overflow-hidden">
                    <img class="h-48 w-full object-cover transition-all duration-700 ease-in-out hover:scale-105" src="../static/img/news-1.jpg" alt="Nuevos formularios" onerror="this.src='../static/img/placeholder.jpg'">
                </div>
                <div class="p-6">
                    <div class="flex items-center">
                        <span class="bg-blue-100 text-blue-600 text-xs px-2 py-1 rounded-full uppercase font-semibold tracking-wide">Formularios</span>
                        <p class="ml-2 text-xs text-gray-500">Marzo 8, 2025</p>
                    </div>
                    <a href="#" class="block mt-2 group">
                        <h3 class="text-lg font-semibold text-gray-900 font-roboto group-hover:text-primary-600 transition-colors duration-300">Nuevos formularios disponibles</h3>
                        <p class="mt-3 text-gray-600">Hemos añadido nuevos formularios para facilitar el proceso de solicitud de visa de trabajo.</p>
                    </a>
                    <div class="mt-4">
                        <a href="#" class="text-primary-600 hover:text-primary-700 font-medium text-sm inline-flex items-center group">
                            Leer más
                            <svg class="w-4 h-4 ml-1 transform group-hover:translate-x-1 transition-transform duration-200" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 5l7 7m0 0l-7 7m7-7H3"></path>
                            </svg>
                        </a>
                    </div>
                </div>
            </div>

            <div class="bg-white rounded-xl shadow-card hover:shadow-card-hover overflow-hidden transition-all duration-500 ease-in-out hover:-translate-y-1 animate-fade-in delay-400">
                <div class="overflow-hidden">
                    <img class="h-48 w-full object-cover transition-all duration-700 ease-in-out hover:scale-105" src="../static/img/news-2.jpg" alt="Asesorías virtuales" onerror="this.src='../static/img/placeholder.jpg'">
                </div>
                <div class="p-6">
                    <div class="flex items-center">
                        <span class="bg-green-100 text-green-600 text-xs px-2 py-1 rounded-full uppercase font-semibold tracking-wide">Asesorías</span>
                        <p class="ml-2 text-xs text-gray-500">Marzo 5, 2025</p>
                    </div>
                    <a href="#" class="block mt-2 group">
                        <h3 class="text-lg font-semibold text-gray-900 font-roboto group-hover:text-primary-600 transition-colors duration-300">Asesorías virtuales disponibles</h3>
                        <p class="mt-3 text-gray-600">Ahora puedes programar asesorías virtuales con nuestros expertos en inmigración canadiense.</p>
                    </a>
                    <div class="mt-4">
                        <a href="#" class="text-primary-600 hover:text-primary-700 font-medium text-sm inline-flex items-center group">
                            Leer más
                            <svg class="w-4 h-4 ml-1 transform group-hover:translate-x-1 transition-transform duration-200" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 5l7 7m0 0l-7 7m7-7H3"></path>
                            </svg>
                        </a>
                    </div>
                </div>
            </div>
        </div>

        <!-- Service Cards -->
        <h2 class="text-2xl font-bold text-gray-900 mb-6 font-roboto animate-fade-in delay-500">Nuestros Servicios</h2>
        <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
            <div class="bg-white rounded-xl shadow-card p-6 hover:-translate-y-2 transition-all duration-300 ease-in-out animate-slide-in delay-100">
                <div class="flex items-center justify-center h-14 w-14 rounded-full bg-primary-100 text-primary-600 mb-5 mx-auto">
                    <svg class="h-7 w-7" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path>
                    </svg>
                </div>
                <h3 class="text-lg font-medium text-gray-900 text-center mb-3 font-roboto">Solicitantes</h3>
                <p class="text-gray-600 text-center mb-5">Gestiona la información de los solicitantes de visas canadienses.</p>
                <div class="text-center">
                    <a href="{{ url_for('solicitantes') }}" class="btn-primary inline-block">Ver solicitantes</a>
                </div>
            </div>

            <div class="bg-white rounded-xl shadow-card p-6 hover:-translate-y-2 transition-all duration-300 ease-in-out animate-slide-in delay-200">
                <div class="flex items-center justify-center h-14 w-14 rounded-full bg-primary-100 text-primary-600 mb-5 mx-auto">
                    <svg class="h-7 w-7" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>
                    </svg>
                </div>
                <h3 class="text-lg font-medium text-gray-900 text-center mb-3 font-roboto">Formularios</h3>
                <p class="text-gray-600 text-center mb-5">Revisa los formularios de elegibilidad para inmigración a Canadá.</p>
                <div class="text-center">
                    <a href="{{ url_for('formularios') }}" class="relative overflow-hidden inline-flex items-center justify-center px-5 py-2 text-white bg-gradient-to-r from-primary-600 to-primary-500 rounded-lg hover:from-primary-500 hover:to-primary-600 shadow-btn hover:shadow-btn-hover transition-all duration-300 ease-in-out font-roboto group">
                        <span class="absolute right-0 w-8 h-32 -mt-12 opacity-20 transform rotate-12 translate-x-12 bg-white transition-all duration-1000 group-hover:-translate-x-40"></span>
                        <span class="relative z-10">Ver formularios</span>
                    </a>
                </div>
            </div>

            <div class="bg-white rounded-xl shadow-card p-6 hover:-translate-y-2 transition-all duration-300 ease-in-out animate-slide-in delay-300">
                <div class="flex items-center justify-center h-14 w-14 rounded-full bg-primary-100 text-primary-600 mb-5 mx-auto">
                    <svg class="h-7 w-7" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"></path>
                    </svg>
                </div>
                <h3 class="text-lg font-medium text-gray-900 text-center mb-3 font-roboto">Asesorías</h3>
                <p class="text-gray-600 text-center mb-5">Administra las asesorías para los solicitantes de visas.</p>
                <div class="text-center">
                    <a href="{{ url_for('asesorias') }}" class="relative overflow-hidden inline-flex items-center justify-center px-5 py-2 text-white bg-gradient-to-r from-primary-600 to-primary-500 rounded-lg hover:from-primary-500 hover:to-primary-600 shadow-btn hover:shadow-btn-hover transition-all duration-300 ease-in-out font-roboto group">
                        <span class="absolute right-0 w-8 h-32 -mt-12 opacity-20 transform rotate-12 translate-x-12 bg-white transition-all duration-1000 group-hover:-translate-x-40"></span>
                        <span class="relative z-10">Ver asesorías</span>
                    </a>
                </div>
            </div>
        </div>
    </div>

    <!-- Canada News Tab Content -->
    <div id="canada-content" class="tab-content hidden">
        <div class="grid grid-cols-1 md:grid-cols-2 gap-8 mb-10">
            <!-- Featured Canada News -->
            <div class="col-span-1 md:col-span-2 bg-white rounded-xl shadow-card hover:shadow-card-hover overflow-hidden transition-all duration-500 ease-in-out hover:-translate-y-1">
                <div class="md:flex">
                    <div class="md:flex-shrink-0 overflow-hidden">
                        <img class="h-48 w-full object-cover md:w-48 transition-all duration-700 ease-in-out hover:scale-105" src="../static/img/canada-news-featured.jpg" alt="Nuevas políticas de inmigración" onerror="this.src='../static/img/placeholder.jpg'">
                    </div>
                    <div class="p-6">
                        <div class="flex items-center">
                            <span class="bg-primary-100 text-primary-600 text-xs px-2 py-1 rounded-full uppercase font-semibold tracking-wide">Destacado</span>
                            <p class="ml-2 text-xs text-gray-500">Marzo 12, 2025</p>
                        </div>
                        <a href="#" class="block mt-2 group">
                            <h3 class="text-xl font-semibold text-gray-900 font-roboto group-hover:text-primary-600 transition-colors duration-300">Canadá anuncia nuevas políticas de inmigración para 2025</h3>
                            <p class="mt-3 text-gray-600">El gobierno canadiense ha anunciado cambios significativos en sus políticas de inmigración que facilitarán el proceso para trabajadores calificados.</p>
                        </a>
                        <div class="mt-4">
                            <a href="#" class="text-primary-600 hover:text-primary-700 font-medium text-sm inline-flex items-center group">
                                Leer más
                                <svg class="w-4 h-4 ml-1 transform group-hover:translate-x-1 transition-transform duration-200" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 5l7 7m0 0l-7 7m7-7H3"></path>
                                </svg>
                            </a>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Regular Canada News Items -->
            <div class="bg-white rounded-xl shadow-card hover:shadow-card-hover overflow-hidden transition-all duration-500 ease-in-out hover:-translate-y-1">
                <div class="overflow-hidden">
                    <img class="h-48 w-full object-cover transition-all duration-700 ease-in-out hover:scale-105" src="../static/img/canada-news-1.jpg" alt="Express Entry" onerror="this.src='../static/img/placeholder.jpg'">
                </div>
                <div class="p-6">
                    <div class="flex items-center">
                        <span class="bg-purple-100 text-purple-600 text-xs px-2 py-1 rounded-full uppercase font-semibold tracking-wide">Express Entry</span>
                        <p class="ml-2 text-xs text-gray-500">Marzo 9, 2025</p>
                    </div>
                    <a href="#" class="block mt-2 group">
                        <h3 class="text-lg font-semibold text-gray-900 font-roboto group-hover:text-primary-600 transition-colors duration-300">Nuevos sorteos de Express Entry</h3>
                        <p class="mt-3 text-gray-600">Canadá ha realizado un nuevo sorteo de Express Entry con puntajes mínimos más bajos que en meses anteriores.</p>
                    </a>
                    <div class="mt-4">
                        <a href="#" class="text-primary-600 hover:text-primary-700 font-medium text-sm inline-flex items-center group">
                            Leer más
                            <svg class="w-4 h-4 ml-1 transform group-hover:translate-x-1 transition-transform duration-200" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 5l7 7m0 0l-7 7m7-7H3"></path>
                            </svg>
                        </a>
                    </div>
                </div>
            </div>

            <div class="bg-white rounded-xl shadow-card hover:shadow-card-hover overflow-hidden transition-all duration-500 ease-in-out hover:-translate-y-1">
                <div class="overflow-hidden">
                    <img class="h-48 w-full object-cover transition-all duration-700 ease-in-out hover:scale-105" src="../static/img/canada-news-2.jpg" alt="Visas de trabajo" onerror="this.src='../static/img/placeholder.jpg'">
                </div>
                <div class="p-6">
                    <div class="flex items-center">
                        <span class="bg-yellow-100 text-yellow-600 text-xs px-2 py-1 rounded-full uppercase font-semibold tracking-wide">Visas</span>
                        <p class="ml-2 text-xs text-gray-500">Marzo 7, 2025</p>
                    </div>
                    <a href="#" class="block mt-2 group">
                        <h3 class="text-lg font-semibold text-gray-900 font-roboto group-hover:text-primary-600 transition-colors duration-300">Cambios en visas de trabajo temporales</h3>
                        <p class="mt-3 text-gray-600">El gobierno canadiense ha implementado cambios en el programa de visas de trabajo temporales para ciertos sectores.</p>
                    </a>
                    <div class="mt-4">
                        <a href="#" class="text-primary-600 hover:text-primary-700 font-medium text-sm inline-flex items-center group">
                            Leer más
                            <svg class="w-4 h-4 ml-1 transform group-hover:translate-x-1 transition-transform duration-200" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 5l7 7m0 0l-7 7m7-7H3"></path>
                            </svg>
                        </a>
                    </div>
                </div>
            </div>

            <div class="bg-white rounded-xl shadow-card hover:shadow-card-hover overflow-hidden transition-all duration-500 ease-in-out hover:-translate-y-1">
                <div class="overflow-hidden">
                    <img class="h-48 w-full object-cover transition-all duration-700 ease-in-out hover:scale-105" src="../static/img/canada-news-3.jpg" alt="Provincias canadienses" onerror="this.src='../static/img/placeholder.jpg'">
                </div>
                <div class="p-6">
                    <div class="flex items-center">
                        <span class="bg-green-100 text-green-600 text-xs px-2 py-1 rounded-full uppercase font-semibold tracking-wide">Provincial</span>
                        <p class="ml-2 text-xs text-gray-500">Marzo 4, 2025</p>
                    </div>
                    <a href="#" class="block mt-2 group">
                        <h3 class="text-lg font-semibold text-gray-900 font-roboto group-hover:text-primary-600 transition-colors duration-300">Ontario amplía su programa provincial</h3>
                        <p class="mt-3 text-gray-600">La provincia de Ontario ha anunciado la ampliación de su Programa de Nominación Provincial con nuevas categorías.</p>
                    </a>
                    <div class="mt-4">
                        <a href="#" class="text-primary-600 hover:text-primary-700 font-medium text-sm inline-flex items-center group">
                            Leer más
                            <svg class="w-4 h-4 ml-1 transform group-hover:translate-x-1 transition-transform duration-200" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 5l7 7m0 0l-7 7m7-7H3"></path>
                            </svg>
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- JavaScript for tabs and notification dropdown -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Tab functionality
            const tabs = document.querySelectorAll('[data-tab]');
            const tabContents = document.querySelectorAll('.tab-content');
            
            tabs.forEach(tab => {
                tab.addEventListener('click', () => {
                    // Remove active class from all tabs
                    tabs.forEach(t => {
                        t.classList.remove('border-primary-600', 'text-primary-600');
                        t.classList.add('border-transparent', 'hover:text-primary-600', 'hover:border-primary-300');
                        t.setAttribute('aria-selected', 'false');
                    });
                    
                    // Add active class to clicked tab
                    tab.classList.add('border-primary-600', 'text-primary-600');
                    tab.classList.remove('border-transparent', 'hover:text-primary-600', 'hover:border-primary-300');
                    tab.setAttribute('aria-selected', 'true');
                    
                    // Hide all tab contents
                    tabContents.forEach(content => {
                        content.classList.add('hidden');
                        content.classList.remove('active');
                    });
                    
                    // Show the selected tab content with animation
                    const tabId = tab.getAttribute('data-tab');
                    const activeContent = document.getElementById(`${tabId}-content`);
                    activeContent.classList.remove('hidden');
                    activeContent.classList.add('active');
                    
                    // Add animation to news cards
                    const newsCards = activeContent.querySelectorAll('.news-card, .bg-white.rounded-xl');
                    newsCards.forEach((card, index) => {
                        card.style.opacity = '0';
                        card.style.transform = 'translateY(20px)';
                        setTimeout(() => {
                            card.style.transition = 'all 0.5s ease-out';
                            card.style.opacity = '1';
                            card.style.transform = 'translateY(0)';
                        }, 100 * index);
                    });
                });
            });
            
            // Notification dropdown functionality
            const notificationBtn = document.getElementById('notificationBtn');
            const notificationDropdown = document.getElementById('notificationDropdown');
            const notificationBadge = document.getElementById('notificationBadge');
            
            notificationBtn.addEventListener('click', () => {
                notificationDropdown.classList.toggle('hidden');
                // Clear notification count when opened
                if (!notificationDropdown.classList.contains('hidden')) {
                    notificationBadge.classList.add('hidden');
                }
            });
            
            // Close dropdown when clicking outside
            document.addEventListener('click', (event) => {
                if (!notificationBtn.contains(event.target) && !notificationDropdown.contains(event.target)) {
                    notificationDropdown.classList.add('hidden');
                }
            });
        });
    </script>
{% endblock %}